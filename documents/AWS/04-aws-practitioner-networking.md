# 4. 네트워킹

# 4_1. AWS와의 연결

## Amazon Virtual Private Cloud(Amazon VPC)

- AWS 리소스에 경계를 설정하는 데 사용할 수 있는 네트워킹 서비스
- 명시적 허가 없이는 아무것도 출입할 수 없는 강화된 요새

### 인터넷 게이트웨이

![](https://i.imgur.com/xkQ0PTx.png)

- VPC와 인터넷 간의 연결 (= 고객이 커피숍에 들어가기 위해 사용하는 출입문, 없으면 아무도 VPC 내의 리소스에 액세스할 수 없음)

### 가상 프라이빗 게이트웨이

![](https://i.imgur.com/7GIwJmE.png)


- VPC 내의 비공개 리소스에 액세스
- 인터넷을 집과 커피숍 사이의 도로로 생각하면, 이 도로를 보디가드와 함께 지나간다고 가정 (추가 보호 계층이 존재하는 것)
- 다른 고객과 동일한 도로를 사용하고 있기 때문에 교통 체증이 발생할 수 있음.
- 승인된 네트워크에서 나오는 트래픽만 VPC로 들어가도록 허용


### AWS Direct Connect

![](https://i.imgur.com/89sumqY.png)

- 데이터 센터와 VPC 간에 비공개 전용 연결을 설정하는 서비스
- 커피숍과 직접 연결되는 복도가 있는 아파트 건물이 있다고 가정하면, 아파트 입주자만 이 복도를 사용할 수 있음
- 네트워크 비용을 절감하고 네트워크를 통과할 수 있는 대역폭을 늘리는 데 도움

# 4_2. 서브넷 및 네트워크 액세스 제어 목록

## 서브넷

보안 또는 운영 요구 사항에 따라 리소스를 그룹화할 수 있는 VPC 내의 한 섹션

## VPC의 네트워크 트래픽
- 고객이 AWS 클라우드에서 호스팅되는 애플리케이션에 데이터를 요청하면 이 요청은 패킷(인터넷이나 네트워크를 통해 전송되는 데이터의 단위)으로 전송
- 패킷은 인터넷 게이트웨이를 통해 VPC로 들어가는데, 패킷이 서브넷으로 들어가거나 서브넷에서 나오려면 먼저 권한을 확인해야 함.
- 서브넷의 패킷 권한을 확인하는 VPC 구성 요소는 네트워크 ACL(액세스 제어 목록)

![](https://i.imgur.com/uFwS8dy.png)

- **네트워크 ACL과 보안 그룹 간의 차이점을 이해하기!**

### 네트워크 ACL(액세스 제어 목록)

![](https://i.imgur.com/Xcnyyhg.png)

- 서브넷 수준에서 인바운드 및 아웃바운드 트래픽을 제어하는 가상 방화벽
- 기본 네트워크 ACL은 기본적으로 모든 인바운드 및 아웃바운드 트래픽을 허용하지만 사용자가 자체 규칙을 추가하여 수정 가능
- **상태 비저장** 패킷 필터링을 함. 즉, 아무것도 기억하지 않고 각 방향(인바운드 및 아웃바운드)으로 서브넷 경계를 통과하는 패킷만 확인

### 보안 그룹
- 인바운드 및 아웃바운드 트래픽을 제어하는 가상 방화벽
- 기본적으로 모든 인바운드 트래픽을 거부하고 모든 아웃바운드 트래픽을 허용
- **상태 저장** 패킷 필터링을 함. 즉, 들어오는 패킷에 대한 이전 결정을 기억

![](https://i.imgur.com/MJAfjk3.png)

```
방문객을 패킷으로 생각할 수 있으며 경비원을 보안 그룹으로 생각할 수 있습니다. 방문객이 도착하면 경비원은 방문객 목록을 보고 해당 방문객이 건물 안으로 들어갈 수 있는지 확인합니다. 그러나 방문객이 건물에서 나갈 때는 경비원이 목록을 다시 확인하지 않습니다.
```

Q. 이 복습에서는 회사가 온라인 사진 스토리지 애플리케이션을 출시한다고 가정해 보겠습니다. 애플리케이션의 특정 측면에 사용할 VPC 구성 요소를 결정해야 합니다.

다음에서 애플리케이션의 각 부분을 올바른 VPC 구성 요소와 연결하십시오.

![](https://i.imgur.com/d2D3qTD.png)

---

Q. 다음 중 AWS 계정의 기본 네트워크 액세스 제어 목록을 가장 잘 설명한 것은 무엇입니까?

1. 기본 네트워크 액세스 제어 목록은 상태 비저장이며 모든 인바운드 및 아웃바운드 트래픽을 거부합니다.

2. 기본 네트워크 액세스 제어 목록은 상태 저장이며 모든 인바운드 및 아웃바운드 트래픽을 허용합니다.

3. 기본 네트워크 액세스 제어 목록은 상태 비저장이며 모든 인바운드 및 아웃바운드 트래픽을 허용합니다.

4. 기본 네트워크 액세스 제어 목록은 상태 저장이며 모든 인바운드 및 아웃바운드 트래픽을 거부합니다.

A. 3

---

# 4_3. 글로벌 네트워킹

## DNS (Domain Name System)

![](https://i.imgur.com/eAR4Him.png)

## Amazon Route 53

- DNS 웹 서비스
- 트래픽을 지연 시간, 지리적 위치, 지역 근접성, 가중치 기반 라운드 로빈 같은 다양한 라우팅 정책을 사용하여 **서로 다른 엔드포인트로** 보낼 수 있음
    - 지리적 위치 DNS를 사용한다면 트래픽을 고객 위치 기준으로 전달 (북미에서 오는 트래픽이 오리건 리전으로 라우팅되고 아일랜드의 트래픽은 더블린 리전으로 라우팅)
- 사용자 요청을 AWS에서 실행되는 인프라 (예를 들어 EC2 인스턴스, 로드밸런서)에 연결
- 사용자를 AWS **외부의 인프라**로도 라우팅할 수 있음.
- **DNS 레코드를 관리**하는 기능도 가지고 있다. -> 직접 새 도메인 이름을 등록할 수도 있음. -> 단일 위치에서 모든 도메인 이름 관리 가능!
 
 ### Amazon Route 53 및 Amazon CloudFront가 콘텐츠를 전송하는 방식
 
 ![](https://i.imgur.com/G2XVKZV.png)

AnyCompany의 애플리케이션이 여러 Amazon EC2 인스턴스에서 실행 중이라고 가정하겠습니다. 이러한 인스턴스는 Application Load Balancer에 연결되는 Auto Scaling 그룹에 포함되어 있습니다. 


1. 고객이 AnyCompany의 웹 사이트로 이동하여 애플리케이션에서 데이터를 요청합니다. 

2. Amazon Route 53는 DNS 확인을 사용하여 AnyCompany.com의 IP 주소인 192.0.2.0을 식별합니다. 이 정보는 고객에게 다시 전송됩니다. 

3. 고객의 요청은 Amazon CloudFront를 통해 가장 가까운 엣지 로케이션으로 전송됩니다. 

4. Amazon CloudFront는 수신 패킷을 Amazon EC2 인스턴스로 전송하는 Application Load Balancer에 연결됩니다.

---

Q. 다음 중 DNS 확인을 가장 잘 설명한 것은 무엇입니까?

A. 도메인 이름을 IP 주소로 변환

---

Q. 회사에 Amazon EC2 인스턴스를 사용하여 고객 대상 웹 사이트를 실행하고 Amazon RDS 데이터베이스 인스턴스를 사용하여 고객의 개인 정보를 저장하는 애플리케이션이 있습니다. 모범 사례에 따르면 개발자는 VPC를 어떻게 구성해야 합니까?

- Amazon EC2 인스턴스를 프라이빗 서브넷에 배치하고 Amazon RDS 데이터베이스 인스턴스를 퍼블릭 서브넷에 배치합니다.

- [x] Amazon EC2 인스턴스를 퍼블릭 서브넷에 배치하고 Amazon RDS 데이터베이스 인스턴스를 프라이빗 서브넷에 배치합니다.

- Amazon EC2 인스턴스와 Amazon RDS 데이터베이스 인스턴스를 퍼블릭 서브넷에 배치합니다.

- Amazon EC2 인스턴스와 Amazon RDS 데이터베이스 인스턴스를 프라이빗 서브넷에 배치합니다.

---

Q. 다음 중 회사의 데이터 센터와 AWS 간에 비공개 전용 연결을 설정하는 데 사용할 수 있는 구성 요소는 무엇입니까?

A. AWS Direct Connect

---

Q. 다음 중 보안 그룹을 가장 잘 설명한 것은 무엇입니까?


- [x] 보안 그룹은 상태 저장이며 기본적으로 모든 인바운드 트래픽을 거부합니다.

- 보안 그룹은 상태 저장이며 기본적으로 모든 인바운드 트래픽을 허용합니다.

- 보안 그룹은 상태 비저장이며 기본적으로 모든 인바운드 트래픽을 거부합니다.

- 보안 그룹은 상태 비저장이며 기본적으로 모든 인바운드 트래픽을 허용합니다.

---

Q. 다음 중 VPC를 인터넷에 연결하는 데 사용되는 구성 요소는 무엇입니까?

A. 인터넷 게이트웨이

---

Q. 다음 중 도메인 이름의 DNS 레코드를 관리하는 데 사용되는 서비스는 무엇입니까?

A. Amazon Route 53

---
---

참고 : AWS Cloud Practitioner Essentials

---
<!--stackedit_data:
eyJoaXN0b3J5IjpbNDYxODcyNDQ0XX0=
-->
