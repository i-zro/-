### 📖 Note
#### ✔ 리눅스 명령어

- ll : 파일 권한 보기
- df -h : 용량 보는 명령어
- lsblk : 볼륨의 파티션 확인

#### ✔ 리눅스 권한

---

- 읽기 Reading - 4  
- 쓰기 Writing - 2  
- 실행 Executing - 1

---

---

- 처음의 7 - 소유자 권한  
- 두번째의 7 - 그룹 사용자 권한  
- 세번째의 7 - 기타 사용자 권한

---

- 만약 777의 권한이 부여되었다면 각각의 7은 (4 + 2 + 1)을 의미

- 문제) 만약 755의 권한이라면 어떤 권한을 가지는 것?  
	- 755는 소유자만 모든 것(쓰기, 읽기, 실행)이 가능하고 그 외 사용자의 경우는 읽기, 실행은 가능하나 쓰기는 불가능

## 1. cloud9 생성 및 스크립트 실행
1. cloud9 생성

2. hello.sh 스크립트 생성

```bash
#!/bin/bash
echo "Hello Terraform"
```

3. hello.sh에 실행권한 부여해주기

```bash
ec2-user:~/environment $ ll
total 8
-rw-r--r-- 1 ec2-user ec2-user  34 Oct  7 02:04 hello.sh
-rw-r--r-- 1 ec2-user ec2-user 569 Oct  4 02:58 README.md

ec2-user:~/environment $ sudo chmod 755 hello.sh

ec2-user:~/environment $ ll
total 8
-rwxr-xr-x 1 ec2-user ec2-user  34 Oct  7 02:04 hello.sh
-rw-r--r-- 1 ec2-user ec2-user 569 Oct  4 02:58 README.md
```

- 755 부여 시 소유자만 모든 것(쓰기, 읽기, 실행)이 가능하고 그 외 사용자의 경우는 읽기, 실행은 가능하나 쓰기는 불가능

![](https://i.imgur.com/BIa2ijf.png)

4. hello.sh 실행

```
ec2-user:~/environment $ ./hello.sh
Hello Terraform
```

### 2. AWS Cloud9 EBS 볼륨 증가 및 Terraform 셋팅

---

✔ 관련 매뉴얼 : https://docs.aws.amazon.com/ko_kr/AWSEC2/latest/UserGuide/recognize-expanded-volume-linux.html#extend-file-system

---

1. 현재 cloud9 용량 보기

	- 현재 10G
	- 이 경우, 테라폼 깔기에는 용량이 부족함.

```bash
ec2-user:~/environment $ df -h
Filesystem      Size  Used Avail Use% Mounted on
devtmpfs        484M     0  484M   0% /dev
tmpfs           492M     0  492M   0% /dev/shm
tmpfs           492M  520K  491M   1% /run
tmpfs           492M     0  492M   0% /sys/fs/cgroup
/dev/xvda1       10G  5.6G  4.5G  56% /
tmpfs            99M     0   99M   0% /run/user/1000
tmpfs            99M     0   99M   0% /run/user/0
```

2. aws 매니지먼트 콘솔에서 볼륨 30GB로 확장 (아직 리눅스 파일 시스템에서 확장된 게 아님)

![](https://i.imgur.com/PUYHuhn.png)

3. 볼륨에 파티션 있는 지 확인

```bash
ec2-user:~/environment $ lsblk
NAME    MAJ:MIN RM SIZE RO TYPE MOUNTPOINT
xvda    202:0    0  30G  0 disk 
└─xvda1 202:1    0  10G  0 part /
```

4.  파일 시스템 용량 늘리기

```
ec2-user:~/environment $ sudo growpart /dev/xvda 1

ec2-user:~/environment $ sudo xfs_growfs -d /
```
<!--stackedit_data:
eyJoaXN0b3J5IjpbMTc3MzkwOTU0MCwyMTQ2NDc4NTg3LC0xNT
YxODU5MDg2LC0xMDEyNTg5NzMzLC0yMDg4NzQ2NjEyXX0=
-->