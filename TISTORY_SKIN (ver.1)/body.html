<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, width=device-width">
	<title>[##_page_title_##]</title>
	<link rel="alternate" type="application/rss+xml" title="[##_title_##]" href="[##_rss_url_##]" />

	<link rel="stylesheet" href="./style.css">
	<link rel="stylesheet" href="./images/font.css">


	<!--[if lt IE 9]>
	<script src="//t1.daumcdn.net/tistory_admin/lib/jquery/jquery-1.12.4.min.js"></script>
	<![endif]-->
	<!--[if gte IE 9]><!-->
	<script src="//t1.daumcdn.net/tistory_admin/lib/jquery/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
	<!--<![endif]-->
</head>
<body>
<div class="area_view">  <pre><code class="hljs python"><span class="hljs-keyword">from</span> collections <span class="hljs-keyword">import</span> deque
    <span class="hljs-keyword">import</span> sys
    <span class="hljs-built_in">input</span> = sys.stdin.readline
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">solution</span>():</span>
        m, n, h = <span class="hljs-built_in">map</span>(<span class="hljs-built_in">int</span>, <span class="hljs-built_in">input</span>().split())
        tomatoes = <span class="hljs-built_in">list</span>()   <span class="hljs-comment"># 전체 토마토 : tomatoes[0]이 1층인 걸로 받음.</span>
        one_tom = deque()  <span class="hljs-comment"># 1인 토마토를 받자!</span>
        <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(h):
            temp = <span class="hljs-built_in">list</span>()
            <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n):
                input_list = <span class="hljs-built_in">list</span>(<span class="hljs-built_in">map</span>(<span class="hljs-built_in">int</span>, <span class="hljs-built_in">input</span>().split()))
                temp.append(input_list)
                <span class="hljs-keyword">for</span> t_idx, temp_item <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(input_list):
                    <span class="hljs-comment"># print(temp)</span>
                    <span class="hljs-keyword">if</span> temp_item == <span class="hljs-number">1</span>:
                        one_tom.append([_, i, t_idx])
            tomatoes.append(temp)
        <span class="hljs-comment"># print(one_tom)</span>
    
        moving = [[<span class="hljs-number">1</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>], [-<span class="hljs-number">1</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>], [<span class="hljs-number">0</span>,<span class="hljs-number">1</span>,<span class="hljs-number">0</span>], [<span class="hljs-number">0</span>,-<span class="hljs-number">1</span>,<span class="hljs-number">0</span>], [<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">1</span>], [<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,-<span class="hljs-number">1</span>]]
    
        <span class="hljs-keyword">while</span> one_tom:
            tom = one_tom.popleft()
            <span class="hljs-keyword">for</span> mov <span class="hljs-keyword">in</span> moving:
                x = tom[<span class="hljs-number">0</span>] + mov[<span class="hljs-number">0</span>]
                y = tom[<span class="hljs-number">1</span>] + mov[<span class="hljs-number">1</span>]
                z = tom[<span class="hljs-number">2</span>] + mov[<span class="hljs-number">2</span>]
                <span class="hljs-keyword">if</span> -<span class="hljs-number">1</span> &lt; x &lt; h <span class="hljs-keyword">and</span> -<span class="hljs-number">1</span> &lt; y &lt; n <span class="hljs-keyword">and</span> -<span class="hljs-number">1</span> &lt; z &lt; m <span class="hljs-keyword">and</span> tomatoes[x][y][z]==<span class="hljs-number">0</span>:
                    tomatoes[x][y][z] = tomatoes[tom[<span class="hljs-number">0</span>]][tom[<span class="hljs-number">1</span>]][tom[<span class="hljs-number">2</span>]] + <span class="hljs-number">1</span>  <span class="hljs-comment"># 0인 부분을 통해서 이전 값으로 더해 가기</span>
                    one_tom.append([x,y,z])
        day = <span class="hljs-number">0</span>
        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(h):
            <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n):
                <span class="hljs-keyword">for</span> k <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(m):
                    <span class="hljs-keyword">if</span> tomatoes[i][j][k] == <span class="hljs-number">0</span>:
                        <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span>
                    <span class="hljs-keyword">else</span>:
                        <span class="hljs-comment"># print(tomatoes[i][j][k])</span>
                        day = <span class="hljs-built_in">max</span>(day, tomatoes[i][j][k])
    
        <span class="hljs-keyword">return</span> day-<span class="hljs-number">1</span>    <span class="hljs-comment"># 1에서 시작</span>
    
    <span class="hljs-built_in">print</span>(solution())</code></pre></div>
  
</body>
